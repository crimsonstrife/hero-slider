!function(){function HeroSlider(element){this.element=element,this.navigation=this.element.getElementsByClassName("js-cd-nav")[0],this.navigationItems=this.navigation.getElementsByTagName("li"),this.marker=this.navigation.getElementsByClassName("js-cd-marker")[0],this.slides=this.element.getElementsByClassName("js-cd-slide"),this.slidesNumber=this.slides.length,this.newSlideIndex=0,this.oldSlideIndex=0,this.autoplay=hasClass(this.element,"js-cd-autoplay"),this.autoPlayId,this.autoPlayDelay=24e3,this.init()}removeClass(document.getElementsByTagName("html")[0],"no-js"),HeroSlider.prototype.init=function(){var self=this;this.uploadVideo(),this.setAutoplay(),this.navigation.addEventListener("click",(function(event){if("div"!=event.target.tagName.toLowerCase()){event.preventDefault();var selectedSlide=event.target;hasClass(event.target.parentElement,"cd-selected")||(self.oldSlideIndex=self.newSlideIndex,self.newSlideIndex=Array.prototype.indexOf.call(self.navigationItems,event.target.parentElement),self.newSlide(),self.updateNavigationMarker(),self.updateSliderNavigation(),self.setAutoplay())}})),this.autoplay&&(this.element.addEventListener("mouseenter",(function(){clearInterval(self.autoPlayId)})),this.element.addEventListener("mouseleave",(function(){self.setAutoplay()})))},HeroSlider.prototype.uploadVideo=function(){for(var videoSlides=this.element.getElementsByClassName("js-cd-bg-video"),i=0;i<videoSlides.length;i++)if(videoSlides[i].offsetHeight>0){var videoUrl=videoSlides[i].getAttribute("data-video");videoSlides[i].innerHTML="<video loop><source src='"+videoUrl+".mp4' type='video/mp4' /><source src='"+videoUrl+".webm' type='video/webm'/></video>",hasClass(videoSlides[i].parentElement,"cd-hero__slide--selected")&&videoSlides[i].getElementsByTagName("video")[0].play()}},HeroSlider.prototype.setAutoplay=function(){var self=this;this.autoplay&&(clearInterval(self.autoPlayId),self.autoPlayId=window.setInterval((function(){self.autoplaySlider()}),self.autoPlayDelay))},HeroSlider.prototype.autoplaySlider=function(){this.oldSlideIndex=this.newSlideIndex;var self=this;this.newSlideIndex<this.slidesNumber-1?(this.newSlideIndex+=1,this.newSlide()):(this.newSlideIndex=0,this.newSlide()),this.updateNavigationMarker(),this.updateSliderNavigation()},HeroSlider.prototype.newSlide=function(direction){var self=this;removeClass(this.slides[this.oldSlideIndex],"cd-hero__slide--selected cd-hero__slide--from-left cd-hero__slide--from-right"),addClass(this.slides[this.oldSlideIndex],"cd-hero__slide--is-moving"),setTimeout((function(){removeClass(self.slides[self.oldSlideIndex],"cd-hero__slide--is-moving")}),500);for(var i=0;i<this.slidesNumber;i++)i<this.newSlideIndex&&this.oldSlideIndex<this.newSlideIndex?addClass(this.slides[i],"cd-hero__slide--move-left"):i==this.newSlideIndex&&this.oldSlideIndex<this.newSlideIndex?addClass(this.slides[i],"cd-hero__slide--selected cd-hero__slide--from-right"):i==this.newSlideIndex&&this.oldSlideIndex>this.newSlideIndex?(addClass(this.slides[i],"cd-hero__slide--selected cd-hero__slide--from-left"),removeClass(this.slides[i],"cd-hero__slide--move-left")):i>this.newSlideIndex&&this.oldSlideIndex>this.newSlideIndex&&removeClass(this.slides[i],"cd-hero__slide--move-left");this.checkVideo()},HeroSlider.prototype.updateNavigationMarker=function(){removeClassPrefix(this.marker,"item"),addClass(this.marker,"cd-hero__marker--item-"+(Number(this.newSlideIndex)+1))},HeroSlider.prototype.updateSliderNavigation=function(){removeClass(this.navigationItems[this.oldSlideIndex],"cd-selected"),addClass(this.navigationItems[this.newSlideIndex],"cd-selected")},HeroSlider.prototype.checkVideo=function(){var hiddenVideo=this.slides[this.oldSlideIndex].getElementsByTagName("video");hiddenVideo.length&&hiddenVideo[0].pause();var visibleVideo=this.slides[this.newSlideIndex].getElementsByTagName("video");visibleVideo.length&&visibleVideo[0].play()};var heroSliders=document.getElementsByClassName("js-cd-hero");if(heroSliders.length>0)for(var i=0;i<heroSliders.length;i++)!function(i){new HeroSlider(heroSliders[i])}(i);function removeClassPrefix(el,prefix){var classes=el.className.split(" ").filter((function(c){return c.indexOf(prefix)<0}));el.className=classes.join(" ")}function hasClass(el,className){return el.classList?el.classList.contains(className):!!el.className.match(new RegExp("(\\s|^)"+className+"(\\s|$)"))}function addClass(el,className){var classList=className.split(" ");el.classList?el.classList.add(classList[0]):hasClass(el,classList[0])||(el.className+=" "+classList[0]),classList.length>1&&addClass(el,classList.slice(1).join(" "))}function removeClass(el,className){var classList=className.split(" ");if(el.classList)el.classList.remove(classList[0]);else if(hasClass(el,classList[0])){var reg=new RegExp("(\\s|^)"+classList[0]+"(\\s|$)");el.className=el.className.replace(reg," ")}classList.length>1&&removeClass(el,classList.slice(1).join(" "))}function toggleClass(el,className,bool){bool?addClass(el,className):removeClass(el,className)}}();
//# sourceMappingURL=main.min.js.map